<!DOCTYPE html>
<html>

<head>
	<title>Register</title>
	<script>
		async function submitForm(event) {
			event.preventDefault();  // Prevent the default form submission

			const formData = new FormData(event.target);
			const data = Object.fromEntries(formData.entries());

			try {
				const response = await fetch('http://localhost:5882/auth/register', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify(data)
				});

				if (!response.ok) {
					throw new Error('Network response was not ok ' + response.statusText);
				}

				const jsonResponse = await response.json();
				displayResponse(jsonResponse);
			} catch (error) {
				console.error('Error:', error);
				displayError(error);
			}
		}

		function displayResponse(response) {
			const responseContainer = document.getElementById('responseContainer');
			responseContainer.textContent = JSON.stringify(response, null, 2);
		}

		function displayError(error) {
			const responseContainer = document.getElementById('responseContainer');
			responseContainer.textContent = 'Error: ' + error.message;
		}
	</script>
</head>

<body>

	<h1>Register</h1>

	<form onsubmit="submitForm(event)">
		<label for="username">Username:</label>
		<input type="text" id="username" name="username" required><br><br>

		<label for="password">Password:</label>
		<input type="password" id="password" name="password" required><br><br>

		<input type="submit" value="Register">
	</form>

	<h2>Response</h2>
	<pre id="responseContainer"></pre>

</body>

</html>
